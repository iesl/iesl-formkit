- import lib.ScalateOps._

-@ val it : forms.GenericFormField
-@ val prefix : String
-@ val idPrefix : String = ""
-@ val validate : Boolean = false

- import it._

- val subprefix = (prefix + "." + key)
- val id = idPrefix + subprefix.replace(".","_")

.control-group(class={if(validate && form.hasErrors) "error" else ""})
  label.control-label(for={id})= displayName
  .controls
    - viewWithArgs(form, "index", context)('prefix -> subprefix, 'idPrefix -> idPrefix, 'id -> id)
